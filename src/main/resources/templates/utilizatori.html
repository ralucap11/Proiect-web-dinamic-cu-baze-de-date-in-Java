<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      xmlns="http://www.w3.org/1999/html">
<header>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
          rel="stylesheet" integrity="sha384-
1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

</header>
<body>

<h2 th:text="${welcomeMessage}"/>

<!-- sectiunea pentru toti utilizatorii-->
<table class="table table-striped table-bordered" style="width: 50%; margin: 0 auto;">
    <tr>
        <th>Numar inmatriculre</th>
        <th>Marca</th>
        <th>Model</th>
        <th>Culoare</th>
        <th>An fabricatie</th>
        <th>Capacitate cilindrica</th>
        <th>Combustibil</th>
        <th>Putere</th>
        <th>Cuplu</th>
        <th>Volum portbagaj</th>
        <th>Pret</th>
    </tr>
    <tr th:each="c : ${masini}">
        <td th:text="${c.getNrInmatriculare()}"></td>
        <td th:text="${c.getMarca()}"></td>
        <td th:text="${c.getModelul()}"></td>
        <td th:text="${c.getCuloarea()}"></td>
        <td th:text="${c.getAn()}"></td>
        <td th:text="${c.getCapacitate_cilindrica()}"></td>
        <td th:text="${c.getCombustibil()}"></td>
        <td th:text="${c.getPutere()}"></td>
        <td th:text="${c.getCuplu() }"></td>
        <td th:text="${c.getVolum() }"></td>
        <td th:text="${c.getPret() }"></td>

    </tr>
</table>

<form th:action="@{/search}" method="get">
    <div class="search text-center">
        <input type="text" name="marca" placeholder="marca">
        <input type="text" name="culoare" placeholder="culoare">
        <input type="text" name="combustibil" placeholder="combustibil">
        <button type="submit">Filtreaza</button>
    </div>
</form>
<form th:action="@{/logout}" method="post" class ="text-center">
    <button type="submit">Logout</button>
</form>


<!--sectiunea pentru editori -->
<div sec:authorize="hasRole('ROLE_EDITOR')">
    <form th:action="@{/editor}" method="post">
        <table class="table table-bordered table-striped" style="width: 50%; margin: 0 auto;">
            <tr>
                <td><label for="nrInmatriculare">Numar Inmatriculare:</label></td>
                <td><input type="text" id="nrInmatriculare" name="nrInmatriculare" class="form-control"></td>
            </tr>
            <tr>
                <td><label for="marca">Marca:</label></td>
                <td><input type="text" id="marca" name="marca" class="form-control"></td>
            </tr>
            <tr>
                <td><label for="modelul">Model:</label></td>
                <td><input type="text" id="modelul" name="modelul" class="form-control"></td>
            </tr>
            <tr>
                <td><label for="culoarea">Culoare:</label></td>
                <td><input type="text" id="culoarea" name="culoarea" class="form-control"></td>
            </tr>
            <tr>
                <td><label for="an">An fabricatie:</label></td>
                <td><input type="number" id="an" name="an" class="form-control"></td>
            </tr>
            <tr>
                <td><label for="capacitate_cilindrica">Capacitate cilindrica:</label></td>
                <td><input type="number" id="capacitate_cilindrica" name="capacitate_cilindrica" class="form-control">
                </td>
            </tr>
            <tr>
                <td><label for="combustibil">Combustibil:</label></td>
                <td>
                    <select id="combustibil" name="combustibil" class="form-select">
                        <option value="Benzina">Benzina</option>
                        <option value="Motorina">Motorina</option>
                        <option value="Diesel">Diesel</option>
                        <option value="Hibrid">Hibrid</option>
                        <option value="Electric">Hibrid</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td><label for="putere">Putere:</label></td>
                <td><input type="number" id="putere" name="putere" class="form-control"></td>
            </tr>
            <tr>
                <td><label for="cuplu">Cuplu:</label></td>
                <td><input type="number" id="cuplu" name="cuplu" class="form-control"></td>
            </tr>
            <tr>
                <td><label for="volum">Volum portbagaj:</label></td>
                <td><input type="number" id="volum" name="volum" class="form-control"></td>
            </tr>
            <tr>
                <td><label for="pret">Pret:</label></td>
                <td><input type="number" id="pret" name="pret" class="form-control"></td>
            </tr>
            <tr>
                <td colspan="2" class="text-center">
                    <button type="submit" name="action" value="add">Adăugare</button>
                    <button type="submit" name="action" value="edit">Modificare</button>
                    <button type="submit" name="action" value="delete">Ștergere</button>
                </td>
            </tr>
        </table>
    </form>
</div>


</body>
</html>